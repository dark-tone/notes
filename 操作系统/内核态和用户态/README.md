# 什么是用户态、内核态
一般的操作系统对执行权限进行分级，分别为用保护态和内核态。用户态相较于内核态有较低的**执行权限**，很多操作是不被操作系统允许的，原因简单来说就是用户态出现问题（自己写的bug），也不能让操作系统崩溃呀。
**内核态相当于一个介于硬件与应用之间的层**，内核有ring 0的权限，可以执行任何cpu指令，也可以引用任何内存地址，包括外围设备, 例如硬盘, 网卡，权限等级最高。

用户态则权利有限，例如在内存分配中，有一部分内存是仅为内核态使用的，用户态code则不允许访问那些内存地址，每个进程只允许访问自己申请到的内存。而且不允许访问外围设备。另外在执行cpu指令的时候也可以被高优先级抢占。
大多数时间各类程序都是执行在用户态下，毕竟内核就是基础而已。

Linux整体架构图：

应用程序
-----------------
库函数 Shell
----------------
系统调用
---------------
内核

用户态就是提供应用程序运行的空间，为了使应用程序访问到内核管理的资源例如CPU，内存，I/O。内核必须提供一组通用的访问接口，这些接口就叫系统调用。



4.CPU状态之间的转换
用户态--->内核态：唯一途径是通过中断、异常、陷入机制（访管指令）

内核态--->用户态：设置程序状态字PSW
>处于用户态执行时，进程所能访问的内存空间和对象受到限制，其所处于占有的处理器是可被抢占的
处于内核态执行时，则能访问所有的内存空间和对象，且所占有的处理器是不允许被抢占的。

# 参考资料
[用户态与内核态](https://www.jianshu.com/p/38ea929e1668)